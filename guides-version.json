{
  "version": "1.4.6",
  "releaseDate": "2025-01-30",
  "compatibility": {
    "dotnetVersion": "9.0",
    "mcpProtocol": "1.0"
  },
  "guides": {
    "init-clean-architecture": {
      "version": "1.4.6",
      "milestone": 4,
      "status": "stable",
      "lastModified": "2025-01-30",
      "documents": {
        "01-estructura-base.md": "1.0.1",
        "02-domain-layer.md": "1.1.2",
        "03-application-layer.md": "1.2.1",
        "04-infrastructure-layer.md": "1.3.5",
        "05-webapi-configuration.md": "1.4.4",
        "06-migrations-base.md": "pending",
        "07-testing-support.md": "pending"
      }
    },
    "configure-database": {
      "version": "0.0.0",
      "status": "pending",
      "lastModified": null
    }
  },
  "templates": {
    "version": "1.4.6",
    "lastModified": "2025-01-30",
    "packages": {
      "Directory.Packages.props": "1.0.1"
    },
    "domain": {
      "IReadOnlyRepository.cs": "1.1.0",
      "IRepository.cs": "1.1.0",
      "IUnitOfWork.cs": "1.1.0",
      "GetManyAndCountResult.cs": "1.1.0",
      "SortingCriteria.cs": "1.1.0",
      "IGetManyAndCountResultWithSorting.cs": "1.1.0"
    },
    "domain.tests": {
      "DomainTestBase.cs": "1.1.1"
    },
    "application.tests": {
      "ApplicationTestBase.cs": "1.2.0"
    },
    "infrastructure": {
      "NHReadOnlyRepository.cs": "1.3.0",
      "NHRepository.cs": "1.3.0",
      "NHUnitOfWork.cs": "1.3.0",
      "SortingCriteriaExtender.cs": "1.3.0",
      "filtering/FilterExpressionParser.cs": "1.3.0",
      "filtering/FilterOperator.cs": "1.3.0",
      "filtering/InvalidQueryStringArgumentException.cs": "1.3.0",
      "filtering/QueryStringParser.cs": "1.3.1",
      "filtering/QuickSearch.cs": "1.3.0",
      "filtering/RelationalOperator.cs": "1.3.0",
      "filtering/Sorting.cs": "1.3.0",
      "filtering/StringExtender.cs": "1.3.0"
    },
    "webapi": {
      "Program.cs": "1.4.0",
      "IPrincipalExtender.cs": "1.4.0",
      "Properties/InternalsVisibleTo.cs": "1.4.0",
      "infrastructure/ServiceCollectionExtender.cs": "1.4.0",
      "infrastructure/authorization/MustBeApplicationUser.cs": "1.4.0",
      "features/BaseEndpoint.cs": "1.4.0",
      "features/hello/HelloEndpoint.cs": "1.4.0",
      "dtos/GetManyAndCountResultDto.cs": "1.4.0",
      "mappingprofiles/MappingProfile.cs": "1.4.0"
    }
  },
  "changelog": [
    {
      "version": "1.4.6",
      "date": "2025-01-30",
      "changes": [
        "IMPROVEMENT: 05-webapi-configuration.md - Reorganized template copy steps to follow dependency order",
        "Program.cs now copied last (Step 9) instead of first - reflects it orchestrates all other components",
        "Logical flow: Infrastructure ‚Üí Features ‚Üí DTOs ‚Üí Extensions ‚Üí Program.cs",
        "Renumbered steps 5-16 to reflect new organization",
        "Added clarifying note explaining Program.cs references all previous components",
        "Better pedagogical flow - dependencies created before the file that uses them"
      ],
      "breaking": false,
      "improvements": [
        "Easier to understand guide flow - follows actual code dependencies",
        "Program.cs position emphasizes its role as main orchestrator"
      ]
    },
    {
      "version": "1.4.5",
      "date": "2025-01-30",
      "changes": [
        "OPTIMIZATION: 05-webapi-configuration.md - Removed unsupported commands and redundant steps",
        "Removed Step 2 (rm Program.cs) - redundant, COPIAR TEMPLATE overwrites automatically",
        "Removed mkdir commands from Step 4 - folders created automatically when copying templates",
        "Optimized from 16 steps to 15 steps (more concise)",
        "Guide now only contains executable dotnet commands (aligned with current parser capabilities)",
        "Added clarifications about automatic file/folder creation behavior"
      ],
      "breaking": false,
      "improvements": [
        "Guide execution more reliable - only uses currently supported commands",
        "Clearer understanding of template copy behavior (automatic overwrite, folder creation)"
      ]
    },
    {
      "version": "1.4.4",
      "date": "2025-01-30",
      "changes": [
        "BUGFIX: 01-estructura-base.md - Removed bold formatting from template instruction (line 190)",
        "Fixed: Changed **üìÑ COPIAR TEMPLATE:** to üìÑ COPIAR TEMPLATE: (without asterisks)",
        "Guide 01 now fully complies with ESPECIFICACION_GUIAS.md",
        "NOTE: Validation errors in guide 05 (lines 611-621) are false positives - they are documentation in version history, not actual instructions"
      ],
      "breaking": false,
      "fixes": [
        "Template instruction with bold formatting in guide 01-estructura-base.md line 190"
      ]
    },
    {
      "version": "1.4.3",
      "date": "2025-01-30",
      "changes": [
        "COMPLIANCE: Fixed template instruction format in guides 02, 03, 04 to match ESPECIFICACION_GUIAS.md",
        "BUGFIX: Removed bold formatting from template instructions (changed **üìÅ COPIAR...** to üìÅ COPIAR...)",
        "BUGFIX: 02-domain-layer.md - Fixed 2 template instructions (steps 10-11)",
        "BUGFIX: 03-application-layer.md - Fixed 1 template instruction (step 12)",
        "BUGFIX: 04-infrastructure-layer.md - Fixed 2 template instructions (steps 7-8)",
        "BUGFIX: 04-infrastructure-layer.md - Replaced invalid pattern 'üìÅ COPIAR ARCHIVOS:' with 4 individual 'üìÑ COPIAR TEMPLATE:' instructions",
        "All guides now strictly comply with specification patterns: 'üìÑ COPIAR TEMPLATE:' and 'üìÅ COPIAR DIRECTORIO COMPLETO:'"
      ],
      "breaking": false,
      "fixes": [
        "Template instructions with bold formatting preventing correct MCP parser recognition",
        "Invalid template pattern 'üìÅ COPIAR ARCHIVOS:' not recognized by parser"
      ]
    },
    {
      "version": "1.4.2",
      "date": "2025-01-30",
      "changes": [
        "BUGFIX: 05-webapi-configuration.md - Removed trailing whitespace from code block closing lines (```)",
        "Fixed 32 lines with ``` followed by spaces that broke MCP parser's code block detection",
        "Parser expects lines to end with ```$ (three backticks followed immediately by end-of-line)",
        "Improves code extraction and command parsing from guide"
      ],
      "breaking": false,
      "fixes": [
        "Code block closing lines with trailing whitespace preventing parser from correctly identifying code blocks"
      ]
    },
    {
      "version": "1.4.1",
      "date": "2025-01-30",
      "changes": [
        "BUGFIX: 05-webapi-configuration.md - Fixed template copy patterns to match MCP parser regex",
        "Fixed Steps 6-9: Changed from 'üìÅ COPIAR ARCHIVOS:' to 'üìÑ COPIAR TEMPLATE:' for individual files",
        "Fixed Steps 7-8: Changed to 'üìÅ COPIAR DIRECTORIO COMPLETO:' for directory copies",
        "MCP parser now correctly recognizes and processes template copy instructions",
        "Parser expected patterns: 'üìÑ COPIAR TEMPLATE: source ‚Üí destination' or 'üìÅ COPIAR DIRECTORIO COMPLETO: source ‚Üí destination'",
        "Templates will now be properly copied when guide is executed by MCP server"
      ],
      "breaking": false,
      "fixes": [
        "Template copy patterns in 05-webapi-configuration.md not matching parser regex in src/services/markdown-parser.ts:153-167"
      ]
    },
    {
      "version": "1.4.0",
      "date": "2025-01-30",
      "changes": [
        "Added WebApi Layer guide (05-webapi-configuration.md) - Milestone 4",
        "Created 9 WebApi templates: Program.cs, ServiceCollectionExtender, BaseEndpoint, endpoints, DTOs, AutoMapper profiles",
        "FastEndpoints configuration with Swagger/OpenAPI documentation",
        "JWT Bearer authentication with Identity Server integration",
        "CORS configuration from appsettings.json",
        "AutoMapper with generic mapping for GetManyAndCountResult",
        "BaseEndpoint with error handling helpers",
        "Example HelloEndpoint demonstrating FastEndpoints usage",
        "MustBeApplicationUser authorization handler example",
        "DotNetEnv for .env file support",
        "Automatic Command/Handler registration from Application assembly",
        "Vertical slicing pattern with features folder organization",
        "Updated milestone from 3 to 4 (WebApi Layer complete)"
      ],
      "breaking": false
    },
    {
      "version": "1.3.4",
      "date": "2025-01-30",
      "changes": [
        "REMOVED: QueryOperations.cs - Deleted empty placeholder template file",
        "CLEANUP: Removed all references to QueryOperations.cs from guide documentation",
        "Filtering system now has 8 files instead of 9 (cleaner template structure)",
        "Applied YAGNI principle: no placeholder files, projects create what they need"
      ],
      "breaking": false,
      "rationale": "Empty placeholder files add no value and create confusion. If projects need custom query operations, they can create their own classes as needed."
    },
    {
      "version": "1.3.3",
      "date": "2025-01-30",
      "changes": [
        "REFACTOR: QueryOperations.cs - Removed AddOrganizationIdToQuery method (too specific for generic template)",
        "REFACTOR: QueryOperations.cs - Now an empty utility class for project-specific implementations",
        "Added comprehensive documentation with example usage for QueryOperations.cs",
        "Template is now truly generic - projects add their own query operations as needed"
      ],
      "breaking": false,
      "rationale": "AddOrganizationIdToQuery was too specific for a reusable template. Each project has different filtering needs, so the class should be a blank canvas for project-specific implementations."
    },
    {
      "version": "1.3.2",
      "date": "2025-01-30",
      "changes": [
        "BUGFIX: QueryOperations.cs - Replaced 'using Microsoft.AspNetCore.WebUtilities' with 'using System.Net'",
        "BUGFIX: QueryOperations.cs - Implemented native ParseQueryString() helper method using WebUtility.UrlDecode()",
        "BUGFIX: QueryOperations.cs - Implemented native BuildQueryString() helper method using WebUtility.UrlEncode()",
        "BUGFIX: QueryOperations.cs - Fixed typo in line 27: changed queryDict['user'] to queryDict['OrganizationId']",
        "All filtering system now uses only native .NET 9.0 APIs without external packages",
        "Complete documentation added to helper methods",
        "Projects compile successfully without Microsoft.AspNetCore.WebUtilities dependency"
      ],
      "breaking": false,
      "fixes": [
        "Error CS0234: namespace 'AspNetCore' does not exist in 'Microsoft' (QueryOperations.cs:1)",
        "Logic error: incorrect dictionary key reference in AddOrganizationIdToQuery"
      ]
    },
    {
      "version": "1.3.1",
      "date": "2025-01-30",
      "changes": [
        "BUGFIX: QueryStringParser.cs - Replaced incompatible 'using System.Web' with 'using System.Net' for .NET 9.0 compatibility",
        "BUGFIX: QueryStringParser.cs - Changed HttpUtility.UrlDecode() to WebUtility.UrlDecode() (native in .NET 9.0)",
        "BUGFIX: QueryStringParser.cs - Removed dependency on missing .RemoveAccents() extension method",
        "BUGFIX: 04-infrastructure-layer.md - Removed Microsoft.AspNetCore.WebUtilities package (not needed)",
        "Updated guide documentation to reflect that System.Net.WebUtility is built into .NET 9.0",
        "Projects now compile successfully without additional dependencies",
        "NOTE: Quick search now uses ToLowerInvariant() instead of accent normalization"
      ],
      "breaking": false,
      "fixes": [
        "Error CS0234: namespace 'resources' does not exist in 'ProjectDemo.domain'",
        "Error: 'System.Web' not available in .NET 9.0",
        "Error: Method 'RemoveAccents()' does not exist"
      ]
    },
    {
      "version": "1.3.0",
      "date": "2025-01-30",
      "changes": [
        "Added Infrastructure Layer guide (04-infrastructure-layer.md) - Milestone 3",
        "Created 13 infrastructure templates: repositories, unit of work, and complete filtering system",
        "NHReadOnlyRepository: Full implementation with NHibernate, GetManyAndCount with query string parsing",
        "NHRepository: CRUD operations with FluentValidation integration",
        "NHUnitOfWork: Transaction management template (requires manual repository configuration)",
        "Filtering system (9 files): QueryStringParser, FilterExpressionParser, operators, sorting, quick search",
        "Supports dynamic queries from HTTP query strings with pagination, sorting, and filtering",
        "Updated milestone from 2 to 3 (Infrastructure Layer complete)"
      ],
      "breaking": false
    },
    {
      "version": "1.2.0",
      "date": "2025-01-30",
      "changes": [
        "Added Application Layer guide (03-application-layer.md) - Milestone 2",
        "Reorganized guide order: Application now comes before Infrastructure (follows Clean Architecture dependency flow)",
        "Created ApplicationTestBase.cs template with AutoFixture + AutoMoq configuration",
        "Application layer includes: use cases, DTOs, validators, and FastEndpoints",
        "Guide emphasizes independence from infrastructure (works only with domain interfaces)",
        "Includes comprehensive principles, examples, and testing patterns for application layer",
        "Updated milestone from 1 to 2 (Application Layer complete)"
      ],
      "breaking": false
    },
    {
      "version": "1.1.1",
      "date": "2025-01-30",
      "changes": [
        "Updated DomainTestBase.cs to modern version with AutoFixture setup",
        "Changed from concrete class to abstract class",
        "Added protected IFixture field for test data generation",
        "Configured AutoFixture with OmitOnRecursionBehavior to handle circular references",
        "Changed from [SetUp] to [OneTimeSetUp] for better test performance",
        "Updated 02-domain-layer.md table description for DomainTestBase.cs"
      ],
      "breaking": false
    },
    {
      "version": "1.1.0",
      "date": "2025-01-30",
      "changes": [
        "Updated domain repository interfaces to modern versions with comprehensive XML documentation",
        "IReadOnlyRepository: Added Expression queries, pagination with SortingCriteria, Count methods, GetManyAndCount with string query support, CancellationToken support",
        "IRepository: Added complete XML documentation, updated constraint to include new()",
        "IUnitOfWork: Added ResetTransaction and IsActiveTransaction methods, organized in CRUD/read-only sections with documentation",
        "GetManyAndCountResult: Added PageNumber, PageSize, Sorting properties, changed Count to long, added constructors and DEFAULT_PAGE_SIZE constant",
        "SortingCriteria: Changed from PropertyName/bool to SortBy/SortingCriteriaType enum, added multiple constructors",
        "IGetManyAndCountResultWithSorting: Simplified to property-only interface exposing Sorting",
        "Updated 02-domain-layer.md table with detailed descriptions of updated templates"
      ],
      "breaking": false
    },
    {
      "version": "1.0.1",
      "date": "2025-01-30",
      "changes": [
        "Fixed Castle.Core dependency warning by adding explicit version 5.1.1",
        "Updated Directory.Packages.props with Castle.Core package",
        "Updated 02-domain-layer.md to include Castle.Core in test packages"
      ],
      "breaking": false
    },
    {
      "version": "1.0.0",
      "date": "2025-01-29",
      "changes": [
        "Initial release with Milestone 1",
        "Created init-clean-architecture tool (01-estructura-base, 02-domain-layer)",
        "Added templates system with GitHub integration",
        "Fixed Castle.Core dependency warning"
      ]
    }
  ]
}
